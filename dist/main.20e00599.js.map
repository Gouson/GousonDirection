{"version":3,"sources":["main.js"],"names":["$siteList","$","x","localStorage","getItem","xObject","JSON","parse","window","hashMap","url","shortCut","simpleUrl","replace","render","find","remove","forEach","node","index","$li","insertBefore","on","e","open","stopPropagation","splice","prompt","trim","indexOf","push","setLocalStorage","onbeforeunload","faviconOnErr","setItem","stringify","isInputing","currentValue","document","key","altKey","trigger","setTimeout","i","length","element","focus","blur","iconType","attr","removeClass","addClass","icon","searchForm","searchValue"],"mappings":"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","file":"main.20e00599.js","sourceRoot":"..","sourcesContent":["const $siteList = $('.siteList')\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nwindow.hashMap = xObject ? xObject : [\r\n    { url: 'https://www.acfun.cn', shortCut: 'acfun' },\r\n    { url: 'https://www.bilibili.com', shortCut: 'bili' },\r\n    { url: 'https://xiedaimala.com/', shortCut: 'sdml' }\r\n]\r\nconst simpleUrl = (url) => {\r\n    return url.replace('https://', '').replace('http://', '').replace(/\\/.*/, '')\r\n}\r\nconst render = () => {\r\n    $siteList.find('li:not(.last)').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`<li>\r\n            <div class=\"site\" title=\"快捷键为'${node.shortCut}'\">\r\n                <div class=\"logo\">\r\n                    <img src='https://${simpleUrl(node.url)}/favicon.ico' onerror=\"faviconOnErr(this)\"/>\r\n                </div>\r\n                <div class=\"link\">${simpleUrl(node.url)}</div>\r\n                <div class=\"close\">\r\n                <svg class=\"icon\">\r\n                    <use xlink:href=\"#icon-close\"></use>\r\n                </svg></div>\r\n            </div>\r\n    </li>`).insertBefore($('.last'))\r\n        $li.on('click', (e) => {\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click', '.close', (e) => {\r\n            e.stopPropagation();\r\n            hashMap.splice(index, 1)\r\n            render()\r\n        })\r\n    })\r\n}\r\nrender()\r\n\r\n$('.addButton').on('click', (e) => {\r\n    let url = window.prompt('输入网址')\r\n    if (!(url.trim())) { return }\r\n    let shortCut = window.prompt('输入快捷命令').trim()\r\n    if (url.indexOf('http') !== 0) {\r\n        url = `https://` + url\r\n    }\r\n    hashMap.push({ url: url, shortCut: shortCut })\r\n    render()\r\n    setLocalStorage()\r\n})\r\n\r\nwindow.onbeforeunload = () => {\r\n    setLocalStorage()\r\n}\r\nfaviconOnErr = (e) => {\r\n    $(` <svg class=\"icon\"><use xlink:href=\"#icon-default\"></use></svg>`).insertBefore($(e))\r\n    $(e).remove()\r\n}\r\nsetLocalStorage = () => {\r\n    localStorage.setItem('x', JSON.stringify(hashMap))\r\n}\r\nlet isInputing = true\r\nlet currentValue = ``\r\n$(document).on('keydown', (e) => {\r\n    const { key } = e\r\n    const { altKey } = e\r\n    if (altKey && key === 's') {\r\n        $('.searchForm>svg').trigger(\"click\");\r\n    }\r\n})\r\n$(document).on('keypress', (e) => {\r\n    const { key } = e\r\n    if (!isInputing) {\r\n        return\r\n    }\r\n    currentValue += key\r\n    setTimeout(() => {\r\n        currentValue = ``\r\n    }, 1500)\r\n\r\n    for (let i = 0; i < hashMap.length; i++) {\r\n        const element = hashMap[i];\r\n        if (element.shortCut === currentValue) {\r\n            window.open(element.url)\r\n        }\r\n    }\r\n})\r\n$('#searchValue').focus(() => {\r\n    isInputing = false\r\n})\r\n$('#searchValue').blur(() => {\r\n    isInputing = true\r\n})\r\n$('.shiftModel').on('click', (e) => {\r\n    let iconType = $('.shiftIcon').attr(\"xlink:href\")\r\n    if (iconType === '#icon-taiyang') {\r\n        $('.shiftIcon').attr(\"xlink:href\", \"#icon-yueliang\")\r\n        $('body').removeClass('dark');\r\n    } else if (iconType === '#icon-yueliang') {\r\n        $('.shiftIcon').attr(\"xlink:href\", \"#icon-taiyang\")\r\n        $('body').addClass('dark')\r\n    }\r\n})\r\n\r\n$('.searchForm>svg').on('click', () => {\r\n    let icon = $('.searchForm>svg>use')\r\n    let iconType = icon.attr(\"xlink:href\")\r\n    let searchForm = $('.searchForm')\r\n    let searchValue = $('#searchValue')\r\n    if (iconType === '#icon-google') {\r\n        icon.attr(\"xlink:href\", \"#icon-baidu\")\r\n        searchForm.attr(\"action\", \"https://www.baidu.com/s\")\r\n        searchValue.attr(\"name\", \"wd\")\r\n    } else if (iconType === '#icon-baidu') {\r\n        icon.attr(\"xlink:href\", \"#icon-google\")\r\n        searchForm.attr(\"action\", \"https://www.google.com/search?\")\r\n        searchValue.attr(\"name\", \"q\")\r\n    }\r\n})"]}